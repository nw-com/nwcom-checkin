<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ë•øÂåóÂã§ÂãôÁÆ°ÁêÜÁ≥ªÁµ±</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- ÁôªÂÖ•È†ÅÈù¢ -->
        <div id="login-page" class="page">
            <div class="particles" id="particles"></div>
            <div class="login-wrapper">
                <div class="login-container">
                    <div class="logo-section">
                        <div class="logo-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h1 class="system-title">Ë•øÂåóÂã§ÂãôÁÆ°ÁêÜÁ≥ªÁµ±</h1>
                        <p class="system-subtitle">Â∞àÊ•≠ ¬∑ ÂÆâÂÖ® ¬∑ È´òÊïà</p>
                    </div>

                    <!-- ÊàêÂäüË®äÊÅØ -->
                    <div class="success-message" id="success-message"></div>

                    <!-- ÈåØË™§Ë®äÊÅØ -->
                    <div class="error-message" id="error-message"></div>

                    <!-- ÁôªÂÖ•Ë°®ÂñÆ -->
                    <form class="login-form" id="login-form">
                        <div class="form-group">
                            <input type="email" id="email" class="form-input" placeholder="ÈõªÂ≠êÈÉµ‰ª∂Âú∞ÂùÄ" required>
                            <i class="fas fa-envelope input-icon"></i>
                        </div>
                        
                        <div class="form-group">
                            <input type="password" id="password" class="form-input" placeholder="ÂØÜÁ¢º" required>
                            <i class="fas fa-lock input-icon"></i>
                        </div>

                        <div class="form-options">
                            <label class="remember-me">
                                <input type="checkbox" id="remember-me">
                                Ë®ò‰ΩèÊàë
                            </label>
                            <a href="#" class="forgot-password" id="forgot-password">ÂøòË®òÂØÜÁ¢ºÔºü</a>
                        </div>

                        <button type="submit" class="login-button" id="login-button">
                            <span id="login-text">ÁôªÂÖ•Á≥ªÁµ±</span>
                        </button>
                    </form>

                    <!-- Á§∫ÁØÑÂ∏≥Ëôü -->
                    <div class="extra-options">
                        <div class="demo-accounts">
                            <strong>üîë Ê∏¨Ë©¶Â∏≥ËôüÔºö</strong>
                            ÁÆ°ÁêÜÂì° - admin@nwcom.com / admin123<br>
                            Âì°Â∑• - user@nwcom.com / user123
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ‰∏ªÁ≥ªÁµ±È†ÅÈù¢ -->
        <div id="main-page" class="page hidden">
            <!-- ÂÅ¥ÈÇäÂ∞éËà™Ê¨Ñ -->
            <nav class="sidebar">
                <div class="sidebar-header">
                    <h3>Ë•øÂåóÂã§ÂãôÁ≥ªÁµ±</h3>
                </div>
                <ul class="sidebar-menu">
                    <li><a href="#" data-page="dashboard"><i class="fas fa-tachometer-alt"></i>ÂÑÄË°®Êùø</a></li>
                    <li><a href="#" data-page="checkin"><i class="fas fa-map-marker-alt"></i>ÂÆö‰ΩçÊâìÂç°</a></li>
                    <li><a href="#" data-page="schedule"><i class="fas fa-calendar-alt"></i>Âã§ÂãôÊéíÁè≠</a></li>
                    <li><a href="#" data-page="settings"><i class="fas fa-cog"></i>Â∏≥ËôüË®≠ÂÆö</a></li>
                    <li><a href="#" data-page="analytics"><i class="fas fa-chart-bar"></i>Êï∏ÊìöÂàÜÊûê</a></li>
                </ul>
                <div class="sidebar-footer">
                    <button id="logout-btn" class="btn btn-logout">
                        <i class="fas fa-sign-out-alt"></i>ÁôªÂá∫
                    </button>
                </div>
            </nav>

            <!-- ‰∏ªË¶ÅÂÖßÂÆπÂçÄÂüü -->
            <main class="main-content">
                <header class="top-header">
                    <div class="user-info">
                        <span id="user-name"></span>
                        <span id="user-role" class="role-badge"></span>
                    </div>
                </header>

                <div class="content-area">
                    <!-- ÂÑÄË°®Êùø -->
                    <div id="dashboard" class="content-page">
                        <h2>ÂÑÄË°®Êùø</h2>
                        <div class="dashboard-stats">
                            <div class="stat-card">
                                <i class="fas fa-users"></i>
                                <div class="stat-info">
                                    <h3>Âú®Âã§‰∫∫Êï∏</h3>
                                    <span id="active-staff">0</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-clock"></i>
                                <div class="stat-info">
                                    <h3>‰ªäÊó•Âá∫Âã§</h3>
                                    <span id="today-attendance">0</span>
                                </div>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-exclamation-triangle"></i>
                                <div class="stat-info">
                                    <h3>Áï∞Â∏∏ÊèêÈÜí</h3>
                                    <span id="alerts">0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÂÆö‰ΩçÊâìÂç° -->
                    <div id="checkin" class="content-page hidden">
                        <h2>ÂÆö‰ΩçÊâìÂç°</h2>
                        <div class="checkin-container">
                            <div id="map" class="map-container"></div>
                            <div class="checkin-controls">
                                <button id="checkin-btn" class="btn btn-success">
                                    <i class="fas fa-map-marker-alt"></i>ÊâìÂç°
                                </button>
                                <div id="location-info"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Âã§ÂãôÊéíÁè≠ -->
                    <div id="schedule" class="content-page hidden">
                        <h2>Âã§ÂãôÊéíÁè≠</h2>
                        <div class="schedule-container">
                            <div class="schedule-calendar">
                                <div id="calendar"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Â∏≥ËôüË®≠ÂÆö -->
                    <div id="settings" class="content-page hidden">
                        <h2>Â∏≥ËôüË®≠ÂÆö</h2>
                        <div class="settings-container">
                            <form id="settings-form">
                                <div class="form-group">
                                    <label>ÂßìÂêç</label>
                                    <input type="text" id="settings-name" required>
                                </div>
                                <div class="form-group">
                                    <label>ÈõªÂ≠êÈÉµ‰ª∂</label>
                                    <input type="email" id="settings-email" required>
                                </div>
                                <div class="form-group">
                                    <label>Êñ∞ÂØÜÁ¢º</label>
                                    <input type="password" id="settings-new-password">
                                </div>
                                <button type="submit" class="btn btn-primary">Êõ¥Êñ∞Ë®≠ÂÆö</button>
                            </form>
                        </div>
                    </div>

                    <!-- Êï∏ÊìöÂàÜÊûê -->
                    <div id="analytics" class="content-page hidden">
                        <div class="analytics-header">
                            <h2>Êï∏ÊìöÂàÜÊûê</h2>
                            <div class="analytics-controls">
                                <select id="analytics-date-range" class="form-control">
                                    <option value="7days">ÊúÄËøë7Â§©</option>
                                    <option value="30days">ÊúÄËøë30Â§©</option>
                                    <option value="90days">ÊúÄËøë90Â§©</option>
                                    <option value="thisMonth">Êú¨Êúà</option>
                                    <option value="lastMonth">‰∏äÂÄãÊúà</option>
                                </select>
                                <button id="update-analytics" class="btn btn-primary">
                                    <i class="fas fa-sync-alt"></i> Êõ¥Êñ∞
                                </button>
                                <button id="export-report" class="btn btn-success">
                                    <i class="fas fa-download"></i> ÂåØÂá∫Â†±Ë°®
                                </button>
                            </div>
                        </div>

                        <div id="analytics-loading" class="loading" style="display: none;">
                            <div class="spinner"></div>
                            <p>ËºâÂÖ•ÂàÜÊûêÊï∏Êìö‰∏≠...</p>
                        </div>

                        <!-- Áµ±Ë®àÂç°Áâá -->
                        <div class="analytics-cards">
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="stat-content">
                                    <h3 id="total-checkins">0</h3>
                                    <p>Á∏ΩÊâìÂç°Ê¨°Êï∏</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-percentage"></i>
                                </div>
                                <div class="stat-content">
                                    <h3 id="on-time-rate">0%</h3>
                                    <p>Ê∫ñÊôÇÁéá</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div class="stat-content">
                                    <h3 id="total-schedules">0</h3>
                                    <p>Á∏ΩÊéíÁè≠Ê¨°Êï∏</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="stat-content">
                                    <h3 id="active-users">0</h3>
                                    <p>Ê¥ªË∫ç‰∫∫Êï∏</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-exclamation-triangle"></i>
                                </div>
                                <div class="stat-content">
                                    <h3 id="total-alerts">0</h3>
                                    <p>Áï∞Â∏∏ÊèêÈÜí</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="stat-content">
                                    <h3 id="avg-work-hours">0.0 Â∞èÊôÇ</h3>
                                    <p>Âπ≥ÂùáÂ∑•‰ΩúÊôÇÈï∑</p>
                                </div>
                            </div>
                        </div>

                        <!-- ÂúñË°®ÂçÄÂüü -->
                        <div class="analytics-charts">
                            <div class="chart-container">
                                <h4>ÊâìÂç°Ë∂®Âã¢</h4>
                                <canvas id="checkin-trend-chart"></canvas>
                            </div>
                            <div class="chart-container">
                                <h4>‰ΩøÁî®ËÄÖÊ¥ªÂãï</h4>
                                <canvas id="user-activity-chart"></canvas>
                            </div>
                            <div class="chart-container">
                                <h4>ÊéíÁè≠ÂàÜÂ∏É</h4>
                                <canvas id="schedule-chart"></canvas>
                            </div>
                            <div class="chart-container">
                                <h4>Â∑•‰ΩúÊôÇÈï∑ÂàÜÊûê</h4>
                                <canvas id="work-hours-chart"></canvas>
                            </div>
                        </div>

                        <!-- Ë©≥Á¥∞Êï∏ÊìöË°®Ê†º -->
                        <div class="analytics-tables">
                            <div class="table-container">
                                <h4>ÊúÄËøëÊâìÂç°Ë®òÈåÑ</h4>
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Êó•Êúü</th>
                                                <th>‰∫∫Âì°</th>
                                                <th>‰∏äÁè≠ÊôÇÈñì</th>
                                                <th>‰∏ãÁè≠ÊôÇÈñì</th>
                                                <th>‰ΩçÁΩÆ</th>
                                                <th>ÁãÄÊÖã</th>
                                            </tr>
                                        </thead>
                                        <tbody id="checkin-table-body">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="table-container">
                                <h4>ÊúÄËøëÊéíÁè≠Ë®òÈåÑ</h4>
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Êó•Êúü</th>
                                                <th>‰∫∫Âì°</th>
                                                <th>Áè≠Ê¨°</th>
                                                <th>ÈñãÂßãÊôÇÈñì</th>
                                                <th>ÁµêÊùüÊôÇÈñì</th>
                                                <th>ÁãÄÊÖã</th>
                                            </tr>
                                        </thead>
                                        <tbody id="schedule-table-body">
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- ÊáâÁî®Á®ãÂºèËÖ≥Êú¨ -->
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/role-manager.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/checkin.js"></script>
    <script src="js/schedule.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/analytics.js"></script>
    <script src="js/app.js"></script>
</body>
</html>