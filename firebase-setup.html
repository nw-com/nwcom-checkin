<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase è¨­å®šåŠ©æ‰‹ - è¥¿åŒ—å‹¤å‹™ç®¡ç†ç³»çµ±</title>
    <style>
        body {
            font-family: 'Microsoft JhengHei', Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
            font-size: 28px;
        }
        .step {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .step h3 {
            color: #007bff;
            margin-top: 0;
            font-size: 18px;
        }
        .step p {
            line-height: 1.6;
            color: #555;
        }
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: 10px 0;
            overflow-x: auto;
        }
        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .btn {
            display: inline-block;
            background: #007bff;
            color: white;
            padding: 12px 24px;
            text-decoration: none;
            border-radius: 5px;
            margin: 10px 5px;
            transition: background 0.3s;
        }
        .btn:hover {
            background: #0056b3;
        }
        .btn-success {
            background: #28a745;
        }
        .btn-success:hover {
            background: #1e7e34;
        }
        .config-form {
            background: #e9ecef;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
        }
        .result {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ Firebase è¨­å®šåŠ©æ‰‹</h1>
        <p style="text-align: center; color: #666; font-size: 16px;">è®“æ‚¨çš„è¥¿åŒ—å‹¤å‹™ç®¡ç†ç³»çµ±å¿«é€Ÿä¸Šç·šï¼</p>

        <div class="step">
            <h3>æ­¥é©Ÿ 1ï¼šå‰µå»º Firebase å°ˆæ¡ˆ</h3>
            <p>1. å‰å¾€ <a href="https://console.firebase.google.com/" target="_blank">Firebase Console</a></p>
            <p>2. é»æ“Šã€Œæ–°å¢å°ˆæ¡ˆã€æˆ–ã€Œå»ºç«‹å°ˆæ¡ˆã€</p>
            <p>3. è¼¸å…¥å°ˆæ¡ˆåç¨±ï¼ˆä¾‹å¦‚ï¼šnwcom-checkinï¼‰</p>
            <p>4. å•Ÿç”¨ Google Analyticsï¼ˆå¯é¸ï¼‰</p>
            <p>5. é»æ“Šã€Œå»ºç«‹å°ˆæ¡ˆã€</p>
        </div>

        <div class="step">
            <h3>æ­¥é©Ÿ 2ï¼šå•Ÿç”¨èªè­‰æœå‹™</h3>
            <p>1. åœ¨å·¦å´é¸å–®é»æ“Šã€ŒAuthenticationã€</p>
            <p>2. é»æ“Šã€Œé–‹å§‹ä½¿ç”¨ã€</p>
            <p>3. é¸æ“‡ã€Œé›»å­éƒµä»¶/å¯†ç¢¼ã€ç™»å…¥æ–¹å¼</p>
            <p>4. å•Ÿç”¨ã€Œé›»å­éƒµä»¶/å¯†ç¢¼ã€ä¸¦å„²å­˜</p>
        </div>

        <div class="step">
            <h3>æ­¥é©Ÿ 3ï¼šå•Ÿç”¨ Firestore Database</h3>
            <p>1. åœ¨å·¦å´é¸å–®é»æ“Šã€ŒFirestore Databaseã€</p>
            <p>2. é»æ“Šã€Œå»ºç«‹è³‡æ–™åº«ã€</p>
            <p>3. é¸æ“‡ã€Œä»¥æ¸¬è©¦æ¨¡å¼å•Ÿå‹•ã€</p>
            <p>4. é¸æ“‡è³‡æ–™åº«ä½ç½®ï¼ˆå»ºè­°é¸æ“‡æœ€è¿‘çš„å€åŸŸï¼‰</p>
            <p>5. é»æ“Šã€Œå•Ÿç”¨ã€</p>
        </div>

        <div class="step">
            <h3>æ­¥é©Ÿ 4ï¼šç²å– Firebase é…ç½®</h3>
            <p>1. é»æ“Šå·¦ä¸Šè§’çš„é½’è¼ªåœ–ç¤º â†’ã€Œå°ˆæ¡ˆè¨­å®šã€</p>
            <p>2. åœ¨ã€Œä¸€èˆ¬ã€æ¨™ç±¤ä¸‹ï¼Œæ‰¾åˆ°ã€Œæ‚¨çš„æ‡‰ç”¨ç¨‹å¼ã€å€å¡Š</p>
            <p>3. é»æ“Šã€Œ</>ã€åœ–ç¤ºï¼ˆç¶²é æ‡‰ç”¨ç¨‹å¼ï¼‰</p>
            <p>4. è¼¸å…¥æ‡‰ç”¨ç¨‹å¼åç¨±ï¼ˆä¾‹å¦‚ï¼šnwcom-checkinï¼‰</p>
            <p>5. é»æ“Šã€Œè¨»å†Šæ‡‰ç”¨ç¨‹å¼ã€</p>
            <p>6. è¤‡è£½ä¸‹æ–¹çš„é…ç½®ä»£ç¢¼</p>
        </div>

        <div class="config-form">
            <h3>ğŸ“ è²¼ä¸Šæ‚¨çš„ Firebase é…ç½®</h3>
            <div class="form-group">
                <label>API Key:</label>
                <input type="text" id="apiKey" placeholder="å¾ Firebase æ§åˆ¶å°è¤‡è£½">
            </div>
            <div class="form-group">
                <label>Auth Domain:</label>
                <input type="text" id="authDomain" placeholder="ä¾‹å¦‚ï¼šyour-project.firebaseapp.com">
            </div>
            <div class="form-group">
                <label>Project ID:</label>
                <input type="text" id="projectId" placeholder="ä¾‹å¦‚ï¼šyour-project-id">
            </div>
            <div class="form-group">
                <label>Storage Bucket:</label>
                <input type="text" id="storageBucket" placeholder="ä¾‹å¦‚ï¼šyour-project.appspot.com">
            </div>
            <div class="form-group">
                <label>Messaging Sender ID:</label>
                <input type="text" id="messagingSenderId" placeholder="ä¾‹å¦‚ï¼š123456789">
            </div>
            <div class="form-group">
                <label>App ID:</label>
                <input type="text" id="appId" placeholder="ä¾‹å¦‚ï¼š1:123456789:web:abcdef123456">
            </div>
            <button class="btn btn-success" onclick="generateConfig()">ç”Ÿæˆé…ç½®æª”æ¡ˆ</button>
        </div>

        <div id="result" class="result">
            <h4>âœ… é…ç½®å·²ç”Ÿæˆï¼</h4>
            <p>è«‹å°‡ä»¥ä¸‹å…§å®¹è¤‡è£½ä¸¦è²¼åˆ° <code>js/firebase-config.js</code> æª”æ¡ˆä¸­ï¼š</p>
            <div class="code-block" id="configOutput"></div>
        </div>

        <div class="step">
            <h3>æ­¥é©Ÿ 5ï¼šæ›´æ–°æ‚¨çš„ç³»çµ±</h3>
            <p>1. å°‡ç”Ÿæˆçš„é…ç½®è²¼åˆ° <code>js/firebase-config.js</code></p>
            <p>2. å„²å­˜æª”æ¡ˆ</p>
            <p>3. é‡æ–°è¼‰å…¥æ‚¨çš„ç³»çµ±</p>
        </div>

        <div class="step">
            <h3>æ­¥é©Ÿ 6ï¼šè¨­å®šè³‡æ–™åº«è¦å‰‡ï¼ˆé‡è¦ï¼‰</h3>
            <p>1. å‰å¾€ Firestore Database</p>
            <p>2. é»æ“Šã€Œè¦å‰‡ã€æ¨™ç±¤</p>
            <p>3. è²¼ä¸Šä»¥ä¸‹å®‰å…¨è¦å‰‡ï¼š</p>
            <div class="code-block">
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
            </div>
            <p>4. é»æ“Šã€Œç™¼å¸ƒã€</p>
        </div>

        <div class="highlight">
            <strong>ğŸ¯ æ­å–œï¼</strong> å®Œæˆä»¥ä¸Šæ­¥é©Ÿå¾Œï¼Œæ‚¨çš„è¥¿åŒ—å‹¤å‹™ç®¡ç†ç³»çµ±å°±å¯ä»¥æ­£å¼é‹ä½œäº†ï¼
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="test.html" class="btn">è¿”å›æ¸¬è©¦é é¢</a>
            <a href="index.html" class="btn btn-success">é–‹å•Ÿç³»çµ±</a>
        </div>
    </div>

    <script>
        function generateConfig() {
            const config = {
                apiKey: document.getElementById('apiKey').value,
                authDomain: document.getElementById('authDomain').value,
                projectId: document.getElementById('projectId').value,
                storageBucket: document.getElementById('storageBucket').value,
                messagingSenderId: document.getElementById('messagingSenderId').value,
                appId: document.getElementById('appId').value
            };

            if (!config.apiKey || !config.authDomain || !config.projectId) {
                alert('è«‹å¡«å¯«æ‰€æœ‰å¿…è¦æ¬„ä½ï¼ˆAPI Keyã€Auth Domainã€Project IDï¼‰');
                return;
            }

            const configCode = `// Firebase é…ç½®
const firebaseConfig = {
    apiKey: "${config.apiKey}",
    authDomain: "${config.authDomain}",
    projectId: "${config.projectId}",
    storageBucket: "${config.storageBucket}",
    messagingSenderId: "${config.messagingSenderId}",
    appId: "${config.appId}"
};

// åˆå§‹åŒ– Firebase
const firebaseApp = {
    auth: firebase.auth(),
    db: firebase.firestore(),
    storage: firebase.storage()
};

// å…¨åŸŸè®Šæ•¸
let currentUser = null;
let currentUserRole = 'staff';`;

            document.getElementById('configOutput').textContent = configCode;
            document.getElementById('result').style.display = 'block';
            
            // è‡ªå‹•é¸æ“‡æ–‡å­—æ–¹ä¾¿è¤‡è£½
            const range = document.createRange();
            range.selectNode(document.getElementById('configOutput'));
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
        }
    </script>
</body>
</html>